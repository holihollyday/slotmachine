<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Slot Machine</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="styles/style.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="dist/jquery.slotmachine.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" type="text/css" />

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="dist/slotmachine.js"></script>
  <script src="dist/jquery.slotmachine.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
</head>

<body>
<!-- Slot machine example -->
   <div id="casino" style="padding-top:50px;">
     <div class="content">
       <h1>Internet Art Slot Machine</h1>

       <div>
         <div id="casino1" class="slotMachine" style="margin-left: -65px;">
           <div class="slot slot1"><div id="player1"></div></div>
           <div class="slot slot2"><div id="player2"></div></div>
           <div class="slot slot3"><div id="player3"></div></div>
           <div class="slot slot4"><div id="player4"></div></div>
           <div class="slot slot5"><div id="player5"></div></div>
           <div class="slot slot6"><div id="player6"></div></div>
         </div>

         <div id="casino2" class="slotMachine">
           <div class="slot slot1"></div>
           <div class="slot slot2"></div>
           <div class="slot slot3"></div>
           <div class="slot slot4"></div>
           <div class="slot slot5"></div>
           <div class="slot slot6"></div>
         </div>

         <div id="casino3" class="slotMachine">
           <div class="slot slot1">
           </div>
           <div class="slot slot2"></div>
           <div class="slot slot3"></div>
           <div class="slot slot4"></div>
           <div class="slot slot5"></div>
           <div class="slot slot6"></div>
         </div>

         <div class="btn-group btn-group-justified" role="group">
           <button id="casinoShuffle" type="button" class="btn btn-primary btn-lg">Shuffle!</button>
           <button id="casinoStop" type="button" class="btn btn-primary btn-lg">Stop!</button>
         </div>
       </div>
     </div>

     <div class="container">
       <div class="row">
         <div class="col-sm-10 col-md-5 offset-sm-1 offset-md-1">
           <pre><code id="codeBlock5"></code></pre>
         </div>

         <div class="col-sm-10 col-md-5 offset-sm-1 offset-md-0">
           <pre><code id="codeBlock6"></code></pre>
         </div>
       </div>
     </div>
   </div>

   <script id="codeScript5">
  //  document.getElementById("player").style.display = "none";

   // 2. This code loads the IFrame Player API code asynchronously.
         var tag = document.createElement('script');

         tag.src = "https://www.youtube.com/iframe_api";
         var firstScriptTag = document.getElementsByTagName('script')[0];
         firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

         // 3. This function creates an <iframe> (and YouTube player)
         //    after the API code downloads.
         var player1;   var player2;   var player3;   var player4;   var player5;   var player6;
         function onYouTubeIframeAPIReady() {
           player1 = new YT.Player('player1', {
             height: '100',
             width: '100',
             videoId: '6wHfCCXxRKU',
             playerVars:{'rel' : 0 }
           });
           player2 = new YT.Player('player2', {
             height: '100',
             width: '100',
             videoId: 'bebuiaSKtU4',
             playerVars:{'rel' : 0 }
           });
           player3 = new YT.Player('player3', {
             height: '100',
             width: '100',
             videoId: 'RgDKpgUI3To',
             playerVars:{'rel' : 0 }
           });
           player4 = new YT.Player('player4', {
             height: '100',
             width: '100',
             videoId: 'Xjs6fnpPWy4',
             playerVars:{'rel' : 0 }
           });
           player5 = new YT.Player('player5', {
             height: '100',
             width: '100',
             videoId: 'gdJjc6l6iII',
             playerVars:{'rel' : 0 }
           });
           player6 = new YT.Player('player6', {
             height: '100',
             width: '100',
             videoId: '1UcozXB5Pg0',
             playerVars:{'rel' : 0 }
           });

         }

         // 4. The API will call this function when the video player is ready.
        //  function onPlayerReady(event) {
        //    event.target.playVideo();
        //  }

         // 5. The API calls this function when the player's state changes.
         //    The function indicates that when playing a video (state=1),
         //    the player should play for six seconds and then stop.
        //  var done = false;
        //  function onPlayerStateChange(event) {
        //    if (event.data == YT.PlayerState.PLAYING && !done) {
        //      setTimeout(stopVideo, 6000);
        //      done = true;
        //    }
        //  }
        //  function stopVideo() {
        //    player.stopVideo();
        //  }

let count = 0;
const btnShuffle = document.querySelector('#casinoShuffle');
const btnStop = document.querySelector('#casinoStop');
const casino1 = document.querySelector('#casino1');
const casino2 = document.querySelector('#casino2');
const casino3 = document.querySelector('#casino3');
const mCasino1 = new SlotMachine(casino1, {
 active: 3,
 delay: 500
});
const mCasino2 = new SlotMachine(casino2, {
 active: 2,
 delay: 500
});
const mCasino3 = new SlotMachine(casino3, {
 active: 1,
 delay: 500
});
   </script>
   <script id="codeScript6">
btnShuffle.addEventListener('click', () => {
 count = 3;
 player1.pauseVideo();
 player2.pauseVideo();
 player3.pauseVideo();
 player4.pauseVideo();
 player5.pauseVideo();
 player6.pauseVideo();
 mCasino1.shuffle(9999);
 mCasino2.shuffle(9999);
 mCasino3.shuffle(9999);
});

btnStop.addEventListener('click', () => {
 switch(count) {
   case 3:
     mCasino1.stop(function playVideo() {
       if(mCasino1.visibleTile ==0){
         player1.playVideo();
       }
       if(mCasino1.visibleTile ==1){
         player2.playVideo();
       }
       if(mCasino1.visibleTile ==2){
         player3.playVideo();
       }
       if(mCasino1.visibleTile ==3){
         player4.playVideo();
       }
       if(mCasino1.visibleTile ==4){
         player5.playVideo();
       }
       if(mCasino1.visibleTile ==5){
         player6.playVideo();
       }
     }
   );
    //  break;
   case 2:
     mCasino2.stop();
    //  break;
   case 1:
     mCasino3.stop();
    //  break;
 }
 count--;

});

   </script>
</body>
</html>
